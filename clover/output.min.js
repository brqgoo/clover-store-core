var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=t.call(this,e)||this;return o._text=n,o._value=i,o.init(),o}return __extends(e,t),e.prototype.init=function(){this.ele=document.createElement("input"),this.parent&&this.parent.appendChild(this.ele),this._text&&(this.placeholder=this._text),this._value&&(this.value=this._value)},Object.defineProperty(e.prototype,"placeholder",{set:function(t){this._text=t,this.ele.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value||""},set:function(t){this.value=t,this._value=t},enumerable:!1,configurable:!0}),e}(t.Element);t.Input=e}(MUI||(MUI={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n,i){void 0===n&&(n=null);var o=t.call(this,e,i)||this;return o.data=n,o}return __extends(e,t),e}(CustomEvent);t.Event=e}(MUI||(MUI={}));var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},utils;!function(t){var e=function(){function t(){}return t.trace=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.log&&console.log.apply(console,__spreadArrays([t],e)),this.woyaoAlert&&(e?alert(t+JSON.stringify(e)):alert(t+""))},t.output=function(t){alert(t)},t.isoutput=!1,t.woyaoAlert=!1,t.log=!0,t.isUpToWeb=!1,t.isSendToNative=!1,t}();t.T=e}(utils||(utils={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AppItem=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e)||this;return i.data=n,i.init(),i.initUI(),i}return __extends(e,t),e.prototype.init=function(){this.ele=MUI.Element.stringToElement("<div class='AppItem border'></div>"),this.parent&&this.parent.appendChild(this.ele)},e.prototype.initUI=function(){var t=MUI.Element.stringToElement('<el-image class="AppItemIcon" :src="heardIcon" fit="cover"></el-image>'),e=MUI.Element.stringToElement('<div class="AppItemTextPane"><span class="p1">坑多多</span><span class="p2">价格随你，亏本也要卖</span></div>');this.appendChild(t),this.appendChild(e),t.src=this.data.icon,new ELE.Button(this.ele,null,"更新",null,'(e)=>{click(e,"appitem")}').setAttr({size:"mini"}),new ELE.Button(this.ele,"success","打开",null,'(e)=>{click(e,"appitem")}').setAttr({size:"mini"})},e}(MUI.Element),__awaiter=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},api;!function(t){var e=function(){function e(){}return e.prototype.showAppList=function(){},e.jumpWeb=function(e){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(o){switch(o.label){case 0:return n=JSON.parse(e),[4,t.A2H5.openBrowserPage(n.data)];case 1:return i=o.sent(),utils.T.trace("jumpWeb-res=",JSON.stringify(i)),[2]}})})},e.addScript=function(t,e){var n=document.createElement("script");n.src=e,t.contentDocument.body.appendChild(n)},e.addScript2=function(t,e){var n=document.createElement("script");n.innerHTML=e,t.contentDocument.body.appendChild(n)},e.OSRestart=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return[4,t.A2H5.OSRestart()];case 1:return e=n.sent(),utils.T.trace("OSRestart-res=",JSON.stringify(e)),[2]}})})},e.openApp=function(t){function n(t){e.closeApp(),r.removeEventListener("click",n)}utils.T.trace("openApp-url=",t);var i=document.getElementById("os-frame-con");i||((i=document.createElement("div")).id="os-frame-con",document.body.appendChild(i));var o=document.getElementsByClassName("os-frame").length>0?document.getElementsByClassName("os-frame")[0]:null;o||(i.style.display="block",i.innerHTML='<iframe class="os-frame" src="'+t+'"   name="os-frame" id="os-frame" allow="fullscreen *"></iframe>',o=i.firstChild),o.src=t;var r=MUI.Element.stringToElement('<button id="closeBtn">✕</button>');return i.appendChild(r),r.addEventListener("click",n),o},e.closeApp=function(){var t=document.getElementsByClassName("os-frame").length>0?document.getElementsByClassName("os-frame")[0]:null;t&&t.remove(),document.getElementById("os-frame-con").style.display="none"},e.checkAppList=function(){},e.installApp=function(e,n){void 0===n&&(n=null),e.isLoading=!0,t.A2H5.installApp({hashId:e.hashId,sourceId:e.sourceId},function(t,e){t=JSON.parse(t),utils.T.trace("installApp=",t,t.code),n&&n(t)})},e.uninstallApp=function(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return[4,t.A2H5.uninstall(e.hashId)];case 1:return n=i.sent(),[2,n]}})})},e.upApp=function(){},e.appHashId="ZHHHDe4b7mDK2F9PeK",e.version="1.0",e}();t.h5OS=e}(api||(api={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=t.call(this,e)||this;return o._text=n,o._value=i,o.init(),o}return __extends(e,t),e.prototype.init=function(){this.ele=document.createElement("textarea"),this.parent&&this.parent.appendChild(this.ele),this._text&&(this.placeholder=this._text),this._value&&(this.value=this._value)},Object.defineProperty(e.prototype,"placeholder",{set:function(t){this._text=t,this.ele.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value||""},set:function(t){this.value=t,this._value=t},enumerable:!1,configurable:!0}),e}(t.Element);t.Textarea=e}(MUI||(MUI={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),SearchUI=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.init(),i.initUI(),i}return __extends(e,t),e.prototype.init=function(){this.ele=MUI.Element.stringToElement("<div id='SearchUI'></div>"),this.parent&&this.parent.appendChild(this.ele)},e.prototype.initUI=function(){var t=new MUI.Div(this.ele);t.ele.style.display="flex",t.ele.style.justifyContent="space-between",t.ele.style.marginBottom="0.5rem";new MUI.Span(t.ele,"Search");var e=MUI.Element.stringToElement('<el-button type="success" size="mini" @click="initWallte" icon="el-icon-user"  >{{loginTxt}}</el-button>');t.appendChild(e);var n=MUI.Element.stringToElement('<el-button type="success" size="mini" @click="showWallte" icon="el-icon-wallet"  >{{version}}</el-button>');t.appendChild(n);var i=MUI.Element.stringToElement('<el-button v-if="showClearSearch"  size="mini" @click="clearSearch"  round>Clear</el-button>');t.appendChild(i);var o=new MUI.Div(this.ele),r=MUI.Element.stringToElement('<el-input placeholder="search APP" v-model="searchData"><i slot="prefix"class="el-input__icon el-icon-search"></i></el-input>'),a=MUI.Element.stringToElement('<el-button type="primary" size="mini" @click="searchApp" slot="append" round>Search</el-button>');o.appendChild(r),r.appendChild(a)},e}(MUI.Element),__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e)||this;return i.path=n,i.init(),i}return __extends(e,t),e.prototype.init=function(){this.ele=document.createElement("img"),this.parent&&this.parent.appendChild(this.ele),this.path&&(this.source=this.path)},Object.defineProperty(e.prototype,"source",{set:function(e){t.prototype.changeContent.call(this,e),this.ele.setAttribute("src",e)},enumerable:!1,configurable:!0}),e}(t.Element);t.Image=e}(MUI||(MUI={}));var utils;!function(t){var e=function(){function e(){}return e.addJQ=function(n){t.load.loadScript(e.jqUrl,function(){console.log("JQ 加载成功"),n&&n()})},e.jqUrl="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js",e.loadScripts=function(e,n){var i=0,o=function(){t.load.loadScript(e[i],function(){++i>=e.length?n():o()})};o()},e.loadScript=function(t,e){var n=document.createElement("script");n.async=!1,n.src=t,n.addEventListener("load",function(){n.parentNode.removeChild(n),n.removeEventListener("load",arguments.callee,!1),e()},!1),document.body.appendChild(n)},e}();t.load=e}(utils||(utils={}));var api;!function(t){var e=function(){function t(){}return t}();t.interface=e}(api||(api={}));var __awaiter=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__asyncValues=this&&this.__asyncValues||function(t){function e(e){i[e]=t[e]&&function(i){return new Promise(function(o,r){n(o,r,(i=t[e](i)).done,i.value)})}}function n(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=t[Symbol.asyncIterator];return o?o.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),i={},e("next"),e("throw"),e("return"),i[Symbol.asyncIterator]=function(){return this},i)},IPFS=function(){function t(){}return t.init=function(){t.O||(t.O=window.IpfsHttpClient({host:"18.138.102.196",port:"5002",protocol:"http"}))},t.getSource=function(e,n){var i,o;return void 0===n&&(n="img"),__awaiter(this,void 0,void 0,function(){var r,a,s,c,u,l;return __generator(this,function(p){switch(p.label){case 0:t.init(),r=[],a=t.O.cat(e),p.label=1;case 1:p.trys.push([1,6,7,12]),s=__asyncValues(a),p.label=2;case 2:return[4,s.next()];case 3:if((c=p.sent()).done)return[3,5];u=c.value,r.push(u),p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=p.sent(),i={error:l},[3,12];case 7:return p.trys.push([7,,10,11]),c&&!c.done&&(o=s.return)?[4,o.call(s)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:return"img"==n?[2,window.URL.createObjectURL(new Blob(r))]:(n="txt")?[2,String.fromCharCode.apply(null,r.toString().split(","))]:[2,r]}})})},t}(),api;!function(t){var e=function(){function t(){}return t.getCallbackName=function(){var t=parseInt(1e5*Math.random()+"");return"h5os_callback_"+(new Date).getTime()+t},t.initWindowEvent=function(){window.addEventListener("message",function(t){var e=JSON.parse(t.data);console.log("我是父页面，这是子页面发送的数据："+e),console.log(e.text),console.log("-------------------")},!1)},t.isConnected=function(){return!!(window.cloverOSBridge||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getDeviceId)},t.post=function(e,n,i){t.initRequst(),t.sentReQuest(e,n,i)},t.initRequst=function(){"iOS"==t.os?t.sentReQuest=function(t,e,n){utils.T.isSendToNative||utils.T.trace("sendToNative-IOS -methondName="+t+" -parameters="+e),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sendToNative?window.webkit.messageHandlers.sendToNative.postMessage(t,e,n):utils.T.trace("sendToNative-iOS---》No docking app! ",t)}:t.sentReQuest=function(t,e,n){utils.T.isSendToNative||utils.T.trace("sendToNative-android -methondName="+t+" -parameters="+e),window.cloverOSBridge?window.cloverOSBridge.callMessage(t,e,n):utils.T.trace("sendToNative-android---》No docking app! ")}},t.installApp=function(e,n){return new window.Promise(function(i,o){var r=t.getCallbackName();window[r]=function(t){utils.T.trace("installApp-result=",t),n&&n(t);try{var e=JSON.parse(t);i(e)}catch(t){o(t)}},t.post("installApp",JSON.stringify(e),r)})},t.openApp=function(){},t.uninstall=function(e){return new window.Promise(function(n,i){var o=t.getCallbackName();window[o]=function(t){utils.T.trace("uninstall-result=",t);try{var e=JSON.parse(t);n(e)}catch(t){i(t)}},t.post("uninstall",JSON.stringify({hashId:e}),o)})},t.getUUID=function(){return new window.Promise(function(e,n){var i=t.getCallbackName();window[i]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var i=JSON.parse(t);i.qrResult;e(i)}catch(t){n(t)}},t.post("getUUID",JSON.stringify({uuid:"uuid"}),i)})},t.copy=function(e){return new window.Promise(function(n,i){var o=t.getCallbackName();window[o]=function(t){utils.T.trace("copy - result=",t);try{var e=JSON.parse(t);n(e)}catch(t){i(t)}},t.post("copy",JSON.stringify({value:e}),o)})},t.getClipboard=function(){return new window.Promise(function(e,n){var i=t.getCallbackName();window[i]=function(t){utils.T.trace("getClipboard - result=",t);try{var i=JSON.parse(t);e(i)}catch(t){n(t)}},t.post("getClipboard",JSON.stringify({clipboard:"txt"}),i)})},t.checkApp=function(e){return new window.Promise(function(n,i){var o=t.getCallbackName();window[o]=function(t){utils.T.trace("checkApp-result=",t);try{var e=JSON.parse(t);n(e)}catch(t){i(t)}},t.post("checkApp",JSON.stringify({hashId:e}),o)})},t.checkServe=function(){return new window.Promise(function(e,n){var i=t.getCallbackName();window[i]=function(t){utils.T.trace("checkServe-result=",t);try{var i=JSON.parse(t);e(i)}catch(t){n(t)}},t.post("checkServe",JSON.stringify({serve:"serve"}),i)})},t.openBrowserPage=function(e){return new window.Promise(function(n,i){var o=t.getCallbackName();window[o]=function(t){utils.T.trace("openBrowserPage-result=",t);try{var e=JSON.parse(t);n(e)}catch(t){i(t)}},t.post("openBrowserPage",JSON.stringify({path:e}),o)})},t.OSRestart=function(){return new window.Promise(function(e,n){var i=t.getCallbackName();window[i]=function(t){utils.T.trace("OSRestart-result=",t);try{var i=JSON.parse(t);e(i)}catch(t){n(t)}},t.post("OSRestart",JSON.stringify({OSRestart:"OSRestart"}),i)})},t.getCutBoardContent=function(){return""},t.copyContent=function(t){},t.getDiviceMessage=function(){return""},t.openWeb=function(t){},t.GFace=function(t){},t.getPhoneModel=function(){return""},t.prototype.backPage=function(){(void 0).dispatchEvent(new CustomEvent("backPage")),(void 0).addEventListener("backPage",function(){})},t.prototype.closeKeyboard=function(){(void 0).dispatchEvent(new CustomEvent("closeKeyboard")),(void 0).addEventListener("closeKeyboard",function(){})},t.os="android",t}();t.A2H5=e}(api||(api={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.init(),i}return __extends(e,t),e.prototype.init=function(){this.ele||(this.ele=document.createElement("div")),this.parent&&this.parent.appendChild(this.ele)},e}(t.Element);t.Div=e}(MUI||(MUI={}));var api;!function(t){var e=function(){function t(){}return t.getAppList=function(){},t.searchApp=function(t){return void 0===t&&(t=""),[]},t}();t.OSInterface=e}(api||(api={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e)||this;return i._text=n,i.init(),i}return __extends(e,t),e.prototype.init=function(){this.ele=document.createElement("span"),this.parent&&this.parent.appendChild(this.ele),this.text&&(this.text=this._text)},e}(t.Element);t.Span=e}(MUI||(MUI={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mainPage=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.init(),i.initUI(),i}return __extends(e,t),e.prototype.init=function(){this.ele=MUI.Element.stringToElement("<div id='mainPage'></div>"),this.parent&&this.parent.appendChild(this.ele)},e.prototype.initUI=function(){utils.T.trace("add - searchUI"),this.searchUI=new SearchUI(this.ele),this.bannerUI=MUI.Element.stringToElement('<el-image v-if="!showSearch" style="width: 100%; height: 45vw; margin:1em 0;border-radius: 4px;box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1)":src="bannerImg" fit="cover"></el-image>'),this.appendChild(this.bannerUI);var t=MUI.Element.stringToElement('<div><el-button v-loading="upOSLoading"  size="mini" @click="upOS">UpOS</el-button> <span>{{upOSLoadContent}}</span> </div>');this.appendChild(t),this.myApp=new MyApp(this.ele),this.searchAPPListUI=new searchList(this.ele)},e}(MUI.Element),__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),searchList=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e)||this;return i.data=n,i.init(),i.initUI(),i}return __extends(e,t),e.prototype.init=function(){this.ele=MUI.Element.stringToElement("<div v-if='showSearch' class='searchList border'></div>"),this.parent&&this.parent.appendChild(this.ele)},e.prototype.initUI=function(){var t=MUI.Element.stringToElement('<div class="AppItem border" v-for="(item,index) in curSearchList"><div class="pane1"><el-image class="AppItemIcon" :src="item.icon" fit="cover"></el-image><div class="AppItemTextPane"><span class="p1">{{item.AppName}}</span><span class="p2">{{item.AppContent}}</span></div></div><div><el-button v-if="item.isUpdata"  size="small">Updata</el-button><el-button v-loading="item.isLoading" @click="(e)=>{downApp(e,item)}" size="small" type="success">{{item.btn}}</el-button></div></div>');new MUI.Div(this.ele).appendChild(t)},e}(MUI.Element),__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MUI;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e)||this;return i._text=n,i.init(),i}return __extends(e,t),e.prototype.init=function(){this.ele=document.createElement("P"),this.parent&&this.parent.appendChild(this.ele),this.text&&(this.text=this._text)},e}(t.Element);t.P=e}(MUI||(MUI={}));var __awaiter=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},api;!function(t){var e=function(){function t(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),this.isUpdata=!1,this.isDown=!1,this.isLoading=!1,this.btn="Install",this.resetIcon=!1,t)for(var n in t)this[n]=t[n];this.resetIcon=e,this.init()}return t.prototype.save=function(){var t=this,e=window.localStorage.getItem("appList")?JSON.parse(window.localStorage.getItem("appList")):[],n=0;e.some(function(e,i){var o=e.hashId==t.hashId;return o&&(n=i),o})?(e[n]=this,window.localStorage.setItem("appList",JSON.stringify(e))):(e.push(this),window.localStorage.setItem("appList",JSON.stringify(e))),utils.T.trace("applist=",JSON.stringify(e))},t.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return this.iconHash||this.resetIcon?(this.icon="./images/favicon.jpg",t=this,[4,IPFS.getSource(this.iconHash)]):[3,2];case 1:t.icon=n.sent(),n.label=2;case 2:return this.AppContentHash?(this.AppContent="",e=this,[4,IPFS.getSource(this.AppContentHash,"txt")]):[3,4];case 3:e.AppContent=n.sent(),n.label=4;case 4:return utils.T.trace("app=",this),[2,!1]}})})},t}();t.App=e}(api||(api={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ELE;!function(t){var e=function(t){function e(e,n,i,o,r,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===a&&(a=null);var s=t.call(this,e,a)||this;return s.type=n,s._text=i,s.icon=o,s.onClick=r,s.init(),s}return __extends(e,t),e.prototype.init=function(){if(!this.ele){var t="";this.onClick&&(t="@click='"+this.onClick+"'"),this.ele=MUI.Element.stringToElement("<el-button "+t+"></el-button>")}utils.T.trace("ele=",this.ele,this.onClick),this.text&&(this.text=this._text),this.type&&this.setAttribute("type",this.type),this.icon&&this.setAttribute("icon",this.icon),this.parent&&this.parent.appendChild(this.ele)},e.prototype.setAttr=function(t){if(this.attributs=t||this.attributs,this.attributs)for(var e in this.attributs)this[e]=this.attributs[e],this.setAttribute(e,this[e])},e}(MUI.Element);t.Button=e}(ELE||(ELE={}));var MUI;!function(t){var e=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.parent=t,this.ele=e}return t.prototype.init=function(){},t.stringToElement=function(t){var e,n=document.createElement("div");return n.innerHTML=t,e=n.firstChild,n=null,e},t.prototype.upData=function(){},t.prototype.changeContent=function(t){},Object.defineProperty(t.prototype,"text",{get:function(){return this._text||""},set:function(t){this._text=t,this.ele.textContent=t},enumerable:!1,configurable:!0}),t.prototype.show=function(t){void 0===t&&(t=null),t&&(this.parent=t),this.parent&&this.parent.appendChild(this.ele)},t.prototype.hide=function(){this.parent&&this.parent.contains(this.ele)&&this.ele.remove()},t.prototype.appendChild=function(t){this.ele.appendChild(t)},t.prototype.setAttribute=function(t,e){this.ele.setAttribute(t,e)},t.prototype.getAttribute=function(t){return this.ele.getAttribute(t)},t.prototype.addEvents=function(){},t.prototype.removeEvents=function(){},t.prototype.gc=function(){this.removeEvents(),this.hide(),this.ele=null,this.parent=null,this.content=null},t}();t.Element=e}(MUI||(MUI={}));var api;!function(t){var e=function(){function t(){}return t.showSignUI=function(t,e){utils.T.trace("showSignUI",t),t.content="from: "+t.from,t.content+=" gas: "+t.gas,t.content+=" gasPrice: "+t.gasPrice,t.content+=" to: "+t.to,t.content+=" value: "+t.value,t.title="transfer:",window.OSApp.showConfirm(t,function(t){console.log("value==",t),e&&e(t)})},t.getWalletConfig=function(){return t.config},t.getBalance=function(t,e){return.001},t.config={url:"https://bsc-dataseed.binance.org",privateKey:""},t}();t.OSWallet=e}(api||(api={}));var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MyApp=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.init(),i.initUI(),i}return __extends(e,t),e.prototype.init=function(){this.ele=MUI.Element.stringToElement('<div  v-if="!showSearch" id="MyApp" v-loading="apploading"></div>'),this.parent&&this.parent.appendChild(this.ele)},e.prototype.initUI=function(){new MUI.P(this.ele,"My App");var t=MUI.Element.stringToElement('<div class="AppItem border" v-for="(item,index) in appList"><div class="pane1"><el-image class="AppItemIcon" :src="item.icon" fit="cover"></el-image><div class="AppItemTextPane"><span class="p1">{{item.AppName}}</span><span class="p2">{{item.AppContent}}</span></div></div><div><el-button v-if="item.isUpdata"  size="mini">Updata</el-button><el-button @click="(e)=>{uninstallApp(e,item)}" size="mini" type="success">Del</el-button><el-button @click="(e)=>{openApp(e,item)}" size="mini" type="success">Open</el-button></div></div>');new MUI.Div(this.ele).appendChild(t)},e}(MUI.Element),RequestMethod=function(){function t(){}return t.post=function(e,n,i,o){void 0===o&&(o=1e4);var r=new XMLHttpRequest;r.open("POST",e,!0),r.timeout=o||t.timeout,r.setRequestHeader("Content-type","application/json");try{r.send(JSON.stringify(n))}catch(t){utils.T.trace("post-data-error=",t)}var a=!1;r.onload=function(){if(!a){a=!0;var t=r.responseText;i&&t&&i(1,t)}},r.onerror=function(){utils.T.trace("httpRequest.onerror--="+r.responseText),a||(a=!0,i&&i(0,JSON.stringify({code:0,message:r.responseText})))},r.ontimeout=function(){utils.T.trace("httpRequest.ontimeout--="+r.responseText),a||(a=!0,i&&i(0,JSON.stringify({code:0,message:r.responseText})))}},t.postJQ=function(e,n,i,o,r){void 0===o&&(o="post"),void 0===r&&(r="json");t.timeout},t.timeout=1e4,t}(),__awaiter=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},Greeter=function(){function t(t){this.element=t;var e=document.getElementById("app");window.appPane=e,new mainPage(e),window.OSApp=new window.Vue({el:"#app",created:function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(n){switch(n.label){case 0:return window.jumpWeb=api.h5OS.jumpWeb,setTimeout(function(){e.apploading=!1,e.appList=[{AppName:"7UP",AppContent:"7UP",icon:"./images/7UP.png",isUpdata:!1,openUrl:"./swap/",downUrl:"",isDown:!1,isLoading:!1,btn:"Install"}]},500),[4,api.A2H5.checkServe()];case 1:return t=n.sent(),utils.T.trace("serve-data",JSON.stringify(t)),[2]}})})},data:{version:"1.2",apploading:!0,searchData:"",heardIcon:"",showSearch:!1,showClearSearch:!1,bannerImg:"./images/banner1.jpg",loginTxt:"Login",upOSLoading:!1,upOSLoadContent:"0%",appList:[],curSearchList:[],searchList:[{AppName:"burgerswap",AppContent:"Automatic Management of Municipalities",icon:"./images/BURGER.png",isUpdata:!1,openUrl:"https://burgerswap.org/",downUrl:"",isDown:!1,isLoading:!1,btn:"Install"},{AppName:"COKE",AppContent:"Automatic Management of Municipalities",icon:"./images/COKE.png",openUrl:"https://cokefinance.com",isUpdata:!1,downUrl:"",isDown:!1,isLoading:!1,btn:"Install"},{AppName:"7UP",AppContent:"7UP",icon:"./images/7UP.png",isUpdata:!1,openUrl:"https://7up.finance",downUrl:"",isDown:!0,isLoading:!1,btn:"Open"}]},watch:{searchData:function(t,e){utils.T.trace("searchData",t,e)}},methods:{f5:function(t){},showWallte:function(){this.showConfirm({title:"开发",content:"555"},function(t){return console.log})},upOS:function(){var t=this;if(!this.upOSLoading){this.upOSLoading=!0;var e=new api.App({version:"1.1",AppName:"cloverOS",AppId:"daxigua",hashId:api.h5OS.appHashId,iconHash:"Qmf758xninzgxk4botXjo65FNPerC1RGeyS9D1kz3LHefc",sourceId:"QmeWgx2goTs1dEYg9RioiubK5PoiF4yowcQFNEUoYb114F",AppContentHash:"QmTbMFLz6StEZ4ZJcaJcFTU5TrZTatHNbihbzaYScK7nM3"});api.h5OS.installApp(e,function(n){n.code<200?t.upOSLoadContent=""+n.code+n.message+(100*n.data.process).toFixed(2)+"%":t.upOSLoadContent=""+n.code+n.message,203==n.code&&(e.openUrl=n.data.openUrl,e.isDown=!0,e.isLoading=!1,e.btn="Open",t.showConfirm({title:"cloverOS",content:"Restart cloverOS"},function(t){1==t&&api.h5OS.OSRestart()}))})}},initWallte:function(){var t=this,e="Please input private Key.";"Login"!=this.loginTxt&&(e="Change private key."),this.$prompt(e,"private Key",{confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then(function(e){var n=e.value;api.OSWallet.config.privateKey=n,window.ethereum=new Ethereum(api.OSWallet.getWalletConfig()),utils.T.trace("ethereum.selectedAddress=",window.ethereum.selectedAddress),t.loginTxt=window.ethereum.selectedAddress.slice(0,4)+"****"+window.ethereum.selectedAddress.slice(-4),api.OSWallet.config.privateKey=""}).catch(function(t){utils.T.trace("privateKey= cancel",t)})},initLocAppList:function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(n){return(t=window.localStorage.getItem("appList")?JSON.parse(window.localStorage.getItem("appList")):[]).map(function(t,n){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){return this.appList.push(new api.App(t,!0)),[2]})})}),this.apploading=!1,[2]})})},initAppSearchList:function(){this.searchList=[];var t,e={version:"1.0",AppName:"burgerswap",AppId:"123456",hashId:"123",iconHash:"Qmf758xninzgxk4botXjo65FNPerC1RGeyS9D1kz3LHefc",sourceId:"QmbtLFbBQFbTnNAhWMpWtA7rn76r45HWZ1gH1wrUo9dhap",AppContentHash:"QmTbMFLz6StEZ4ZJcaJcFTU5TrZTatHNbihbzaYScK7nM3"},n=0;t=this.appList.some(function(t,i){var o=t.hashId==e.hashId;return o&&(n=i),o})?this.appList[n]:new api.App(e),this.searchList.push(t)},removeApp:function(t){},showConfirm:function(t,e){void 0===e&&(e=null),this.$confirm(t.content,t.title,{confirmButtonText:"sure",cancelButtonText:"cancel",distinguishCancelAndClose:!0}).then(function(n){utils.T.trace("callback-1---",t.title,n),e&&e(1)}).catch(function(n){utils.T.trace("callback-0---",t.title,e,n),e&&e(0)})},searchApp:function(t){if(this.searchData.length>0){this.showSearch=!0,this.showClearSearch=!0,this.curSearchList=[];for(var e=0;e<this.searchList.length;e++)this.searchList[e].AppName.toLocaleLowerCase().indexOf(this.searchData.toLocaleLowerCase())>=0&&this.curSearchList.push(this.searchList[e])}},clearSearch:function(t){this.searchData.length>0&&(this.searchData="",this.showSearch=!1,this.showClearSearch=!1)},openApp:function(t,e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){return utils.T.trace("click",t,e),n=api.h5OS.openApp(e.openUrl),api.h5OS.addScript2(n,'window["ethereumHelper"]=window.parent["ethereumHelper"];'),api.h5OS.addScript2(n,'window["ethereum"]=window.parent["ethereum"];'),api.h5OS.addScript2(n,"window.open = (pageURL,name,parameters)=>{window.location.href=pageURL;};"),[2]})})},downApp:function(t,e){var n=this;e.isDown?e.isLoading||this.openApp(t,e):api.h5OS.installApp(e,function(t){203==t.code&&(e.openUrl=t.data.openUrl,e.isDown=!0,e.isLoading=!1,e.btn="Open",e.save(),n.appList.push(e))})},uninstallApp:function(t,e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return e.isLoading=!0,[4,api.h5OS.uninstallApp(e)];case 1:return 501!=(t=n.sent()).code&&503!=t.code||(e.isDown=!1,e.btn="Install",this.delApp(e)),e.isLoading=!1,[2]}})})},delApp:function(t){for(var e=0;e<this.appList.length;e++)this.appList[e]==t&&this.appList.splice(e,1);window.localStorage.setItem("appList",JSON.stringify(this.appList))}}})}return t}();window.onload=function(){var t=document.getElementById("content");new Greeter(t)};